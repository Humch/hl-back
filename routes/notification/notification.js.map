{"version":3,"sources":["../../../src/routes/notification/notification.js"],"names":["router","express","Router","post","req","res","body","receiver","content","fs","readFileSync","contentObject","JSON","parse","items","push","_id","company","console","log","writeFileSync","stringify","send","status","message","json"],"mappings":";;;;;;AACA;;;;AACA;;;;;;AAEA;AAJA;AAKA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAGA;AACA;AACA;;AAEAF,OAAOG,IAAP,CAAY,OAAZ,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjC,MAAID,IAAIE,IAAJ,CAASC,QAAT,KAAsB,kBAA1B,EAA8C;AAC5C,QAAMC,UAAUC,aAAGC,YAAH,CAAgB,yDAAhB,EAA2E,OAA3E,CAAhB;AACA,QAAIC,gBAAgBC,KAAKC,KAAL,CAAWL,OAAX,CAApB;AACAG,kBAAcG,KAAd,CAAoBC,IAApB,CAAyB;AACvBC,WAAK,SADkB;AAEvBC,eAAS;AAFc,KAAzB;AAIAC,YAAQC,GAAR,CAAYR,aAAZ;AACAF,iBAAGW,aAAH,CAAiB,yDAAjB,EAA4ER,KAAKS,SAAL,CAAeV,aAAf,CAA5E,EAA2G,OAA3G;AACAN,QAAIiB,IAAJ,CAAS,SAAT;AACD,GAVD,MAUO;AACLjB,QAAIkB,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,EAAEE,SAAS,qBAAX,EAArB;AACD;AACF,CAdD;;AAgBAxB,OAAOG,IAAP,CAAY,eAAZ,EAA6B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzC,MAAMG,UAAUC,aAAGC,YAAH,CAAgB,yDAAhB,EAA2E,OAA3E,CAAhB;AACAL,MAAIoB,IAAJ,CAASjB,OAAT;AACD,CAHD;;kBAKeR,M","file":"notification.js","sourcesContent":["// IMPORT\nimport express from 'express';\nimport fs from 'fs';\n\n// CONST\nconst router = express.Router();\n\n\n// router.get('/', (req, res) => {\n//   res.send('HELLLOOOO USER');\n// });\n\nrouter.post('/send', (req, res) => {\n  if (req.body.receiver === 'gilles@gmail.com') {\n    const content = fs.readFileSync('./json_test/notification/notification_get_received.json', 'UTF-8');\n    let contentObject = JSON.parse(content);\n    contentObject.items.push({\n      _id: 'notif_4',\n      company: 'the New Company'\n    });\n    console.log(contentObject);\n    fs.writeFileSync('./json_test/notification/notification_get_received.json', JSON.stringify(contentObject), 'UTF-8');\n    res.send('success');\n  } else {\n    res.status(403).send({ message: 'utilisateur inconnu' });\n  }\n});\n\nrouter.post('/get_received', (req, res) => {\n  const content = fs.readFileSync('./json_test/notification/notification_get_received.json', \"UTF-8\");\n  res.json(content);\n});\n\nexport default router;\n\n"]}