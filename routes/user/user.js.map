{"version":3,"sources":["../../../src/routes/user/user.js"],"names":["router","express","Router","post","req","res","loginData","JSON","parse","fs","readFileSync","login","i","length","email","body","password","successLogin","send","console","log","status","message"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEA;;AAEAF,OAAOG,IAAP,CAAY,QAAZ,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAClC,MAAMC,YAAYC,KAAKC,KAAL,CAAWC,aAAGC,YAAH,CAAgB,4CAAhB,EAA8D,OAA9D,CAAX,CAAlB;AACA,MAAIC,QAAQ,KAAZ;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIN,UAAUO,MAA9B,EAAsCD,GAAtC,EAA2C;AACzC,QAAIN,UAAUM,CAAV,EAAaE,KAAb,KAAuBV,IAAIW,IAAJ,CAASD,KAAhC,IAAyCR,UAAUM,CAAV,EAAaI,QAAb,KAA0BZ,IAAIW,IAAJ,CAASC,QAAhF,EAA0F;AACxF,UAAIV,UAAUM,CAAV,EAAaE,KAAb,KAAuB,kBAA3B,EAA+C;AAC7C,YAAMG,eAAeR,aAAGC,YAAH,CAAgB,oCAAhB,EAAsD,OAAtD,CAArB;AACAL,YAAIa,IAAJ,CAASD,YAAT;AACAN,gBAAQ,IAAR;AACD;AACD,UAAIL,UAAUM,CAAV,EAAaE,KAAb,KAAuB,eAA3B,EAA4C;AAC1C,YAAMG,gBAAeR,aAAGC,YAAH,CAAgB,oCAAhB,EAAsD,OAAtD,CAArB;AACAS,gBAAQC,GAAR,CAAYH,aAAZ;AACAZ,YAAIa,IAAJ,CAASD,aAAT;AACAN,gBAAQ,IAAR;AACD;AACF;AACF;AACD,MAAI,CAACA,KAAL,EAAY;AACVN,QAAIgB,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB,EAAEI,SAAS,cAAX,EAArB;AACD;AAEF,CAtBD;;AAwBAtB,OAAOG,IAAP,CAAY,WAAZ,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACrCA,MAAIa,IAAJ,CAAS,gBAAT;AACD,CAFD;;kBAIelB,M","file":"user.js","sourcesContent":["import express from 'express';\nimport fs from 'fs';\n\nconst router = express.Router();\n\n// VÃ©rification du login de l'utilisateur\n\nrouter.post('/login', (req, res) => {\n  const loginData = JSON.parse(fs.readFileSync('./json_files/requetes/user/user_login.json', 'UTF-8'));\n  let login = false;\n  for (let i = 0; i < loginData.length; i++) {\n    if (loginData[i].email === req.body.email && loginData[i].password === req.body.password) {\n      if (loginData[i].email === 'gilles@gmail.com') {\n        const successLogin = fs.readFileSync('./json_test/user/user_login_a.json', 'UTF-8');\n        res.send(successLogin);\n        login = true;\n      }\n      if (loginData[i].email === 'bob@gmail.com') {\n        const successLogin = fs.readFileSync('./json_test/user/user_login_b.json', 'UTF-8');\n        console.log(successLogin);\n        res.send(successLogin);\n        login = true;\n      }\n    }\n  }\n  if (!login) {\n    res.status(401).send({ message: 'login failed' });\n  }\n  \n});\n\nrouter.post('/register', (req, res) => {\n  res.send('ENREGISTRE TOI');\n});\n\nexport default router;\n\n"]}